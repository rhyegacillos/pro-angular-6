<div class="m-2">
  <div class="bg-info text-white p-2">
    Selected Product: {{selectedProduct || '(None)'}}
  </div>
  <table class="table table-sm table-bordered">
    <tr><th></th><th>Name</th><th>Category</th><th>Price</th></tr>
    <tr *ngFor="let item of getProducts(); let i = index"
        [class.bg-info]="getSelected(item)">
      <td (mouseover)="selectedProduct = item.name">{{i + 1}}</td>
      <td>{{item.name}}</td>
      <td>{{item.category}}</td>
      <td>{{item.price}}</td>
    </tr>
  </table>
  <div class="form-group">
    <label for="name">Product Name</label>
    <input id="name" class="form-control" [(ngModel)]="selectedProduct">
  </div>
  <div class="form-group">
    <label for="name2">Product Name</label>
    <input class="form-control" [(ngModel)]="selectedProduct">
  </div>
</div>

<br><br>

<div class="m-2">
  <div class="bg-info text-white mb-2 p-2">Model Data: {{jsonProduct}}</div>
  <form novalidate [formGroup]="form" (ngSubmit)="submitForm(form)">
    <div class="bg-danger text-white p-2 mb-2"
         *ngIf="formSubmitted && form.invalid">
      There are problems with the form
      <ul>
        <li *ngFor="let error of form.getFormValidationMessages(form)">{{error}}</li>
      </ul>
    </div>
    <div class="form-group">
      <label>Name</label>
      <input class="form-control"
             name="name"
             [(ngModel)]="newProduct.name"
             formControlName="name"/>
      <ul class="text-danger list-unstyled"
          *ngIf="(formSubmitted || form.controls['name'].dirty) && form.controls['name'].invalid">
        <li *ngFor="let error of form.controls['name'].getValidationMessages()">
          {{error}}</li>
      </ul>
    </div>
    <div class="form-group">
      <label>Category</label>
      <input class="form-control"
             name="name"
             [(ngModel)]="newProduct.category"
             formControlName="category">
      <ul class="text-danger list-unstyled"
          *ngIf="(formSubmitted || form.controls['category'].dirty) && form.controls['category'].invalid ">
        <li *ngFor="let error of form.controls['category'].getValidationMessages()">
          {{error}}</li>
      </ul>
    </div>
    <div class="form-group">
      <label>Price</label>
      <input class="form-control"
             name="name"
             [(ngModel)]="newProduct.price"
             formControlName="price">
      <ul class="text-danger list-unstyled"
          *ngIf="(formSubmitted || form.controls['price'].dirty) && form.controls['price'].invalid ">
        <li *ngFor="let error of form.controls['price'].getValidationMessages()">{{error}}</li>
      </ul>
    </div>
    <button class="btn btn-primary" type="submit" 
            [disabled]="formSubmitted && form.invalid"
            [class.btn-secondary]="formSubmitted && form.invalid">Create</button>
  </form>
</div>
